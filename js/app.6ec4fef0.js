(function(){"use strict";var e={1621:function(e,t,n){var r=n(5860),a=n(3099);const o=(0,a._)("div",{class:"web-title"},"Fire Dog App",-1);function i(e,t){const n=(0,a.up)("el-col"),r=(0,a.up)("router-link"),i=(0,a.up)("el-row"),l=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",null,[(0,a.Wm)(i,{gutter:20},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{span:16},{default:(0,a.w5)((()=>[o])),_:1}),(0,a.Wm)(n,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1}),(0,a.Uk)(" | "),(0,a.Wm)(r,{to:"/about"},{default:(0,a.w5)((()=>[(0,a.Uk)("About")])),_:1})])),_:1})])),_:1})]),(0,a.Wm)(l)],64)}var l=n(5727);const u={},s=(0,l.Z)(u,[["render",i]]);var c=s,p=n(9470),d=n(8317);const f={class:"home"},g={class:"navigation-container"},h=(0,a._)("h2",null,"Region",-1),m=(0,a._)("div",null,"----------",-1),w=(0,a._)("h2",null,"Select date",-1),v=(0,a._)("h2",null,"Player",-1),y={class:"date-text"};function b(e,t,n,r,o,i){const l=(0,a.up)("el-button"),u=(0,a.up)("el-date-picker"),s=(0,a.up)("el-col"),c=(0,a.up)("FireMap"),p=(0,a.up)("el-row");return(0,a.wg)(),(0,a.iD)("div",f,[(0,a.Wm)(p,{gutter:20},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{span:6},{default:(0,a.w5)((()=>[(0,a._)("div",g,[h,(0,a.Wm)(l,{type:"primary",round:"",onClick:t[0]||(t[0]=e=>i.changeRegion("TWN"))},{default:(0,a.w5)((()=>[(0,a.Uk)("Taiwan")])),_:1}),(0,a.Wm)(l,{type:"primary",round:"",onClick:t[1]||(t[1]=e=>i.changeRegion("US"))},{default:(0,a.w5)((()=>[(0,a.Uk)("USA")])),_:1}),m,(0,a.Wm)(l,{type:"primary",round:"",onClick:t[2]||(t[2]=e=>i.changeRegion("IDN"))},{default:(0,a.w5)((()=>[(0,a.Uk)("Indonesia")])),_:1}),(0,a.Wm)(l,{type:"primary",round:"",onClick:t[3]||(t[3]=e=>i.changeRegion("THA"))},{default:(0,a.w5)((()=>[(0,a.Uk)("Thailand")])),_:1}),w,(0,a.Wm)(u,{class:"nav-select",modelValue:o.fireDate,"onUpdate:modelValue":t[4]||(t[4]=e=>o.fireDate=e),type:"date",clearable:!1},null,8,["modelValue"]),v,(0,a.Wm)(l,{type:"primary",round:"",onClick:t[5]||(t[5]=e=>i.jumpToToday())},{default:(0,a.w5)((()=>[(0,a.Uk)("Today")])),_:1}),(0,a.Wm)(l,{type:"primary",round:"",onClick:t[6]||(t[6]=e=>i.playAni(2))},{default:(0,a.w5)((()=>[(0,a.Uk)("2 years")])),_:1}),(0,a._)("div",y,(0,d.zw)(o.currentDate),1)])])),_:1}),(0,a.Wm)(s,{span:18},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{fireplaces:o.fireplaces,region:o.region},null,8,["fireplaces","region"])])),_:1})])),_:1})])}n(7658);const D=e=>((0,a.dD)("data-v-0bc2a4fc"),e=e(),(0,a.Cn)(),e),_={class:"map-container"},k=D((()=>(0,a._)("div",{id:"map"},null,-1))),T=[k];function M(e,t,n,r,o,i){return(0,a.wg)(),(0,a.iD)("div",_,T)}var W,j,F=[],O={name:"FireMap ",props:["fireplaces","region"],watch:{fireplaces:{deep:!0,handler(){this.manageFireplaces()}},region:{deep:!0,handler(){this.changeRegion()}}},mounted(){this.initMap()},methods:{changeRegion(){console.log(this.region),this.initMap()},manageFireplaces(){F.length>0&&j.setMap(null);for(let t=0;t<F.length;t++)F[t].setMap(null);F=[],j=new window.google.maps.visualization.HeatmapLayer({data:this.fireplaces,radius:20}),j.setMap(W);const e={url:"https://raw.githubusercontent.com/jerry914/fire-dog-app/gh-pages/assets/fire.png",scaledSize:new window.google.maps.Size(10,10)};this.fireplaces.forEach((t=>{const n=new window.google.maps.Marker({position:{lat:t.latitude,lng:t.longitude},map:W,icon:e});n.addListener("click",(()=>{window.open("https://www.google.com/maps/search/?api=1&query="+t.location.lat()+","+t.location.lng())})),F.push(n)}))},initMap(){W=new window.google.maps.Map(document.getElementById("map"),{zoom:this.region.zoom,center:this.region.center,mapTypeControl:!1,mapTypeId:"satellite"}),this.manageFireplaces()}}};const S=(0,l.Z)(O,[["render",M],["__scopeId","data-v-0bc2a4fc"]]);var x=S,C=n(2923),U={name:"HomeView",components:{FireMap:x},data(){return{currentDate:null,fireDate:null,fireplaces:[],playerToggle:!1,region:"",regionData:{TWN:{center:{lat:23.789518,lng:120.542473},zoom:8,url:"https://us-central1-nasa-twfire.cloudfunctions.net/on_request_example?time="},US:{center:{lat:44.967243,lng:-103.771556},zoom:4,url:"https://us-central1-nasa-twfire.cloudfunctions.net/on_request_example-1?time="},IDN:{center:{lat:-.175,lng:116.828333},zoom:5,url:"https://us-central1-nasa-twfire.cloudfunctions.net/on_request_example-2?time="},THA:{center:{lat:13.75,lng:100.483333},zoom:6,url:"https://us-central1-nasa-twfire.cloudfunctions.net/on_request_example-3?time="}}}},watch:{fireDate(e){this.getFireplaces(this.formatDate(e))}},mounted(){this.fireDate=new Date,this.region=this.regionData.TWN},methods:{changeRegion(e){console.log(e,this.region),this.region=this.regionData[e]},jumpToToday(){this.playerToggle=!1,this.currentDate=new Date,this.fireDate=new Date},playAni(e){this.playerToggle=!this.playerToggle,this.currentDate=new Date("2023-01-01"),this.currentDate.setFullYear(this.currentDate.getFullYear()-e);const t=setInterval((()=>{this.currentDate<=new Date&&this.playerToggle?(this.getFireplaces(this.formatDate(this.currentDate)),console.log(this.currentDate),this.currentDate.setDate(this.currentDate.getDate()+1)):(clearInterval(t),this.playerToggle=!1)}),500)},getFireplaces(e){C.Z.get(this.region.url+e).then((e=>{this.jsonData=e.data.data,this.fireplaces=[],this.jsonData.forEach((e=>{this.fireplaces.push(this.transformData(e))})),console.log(this.fireplaces)})).catch((e=>{console.error("An error occurred:",e),this.$message({showClose:!0,message:"Database error",type:"error"})}))},formatDate(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},transformData(e){const t=parseFloat(e.latitude),n=parseFloat(e.longitude),r=parseFloat(e.frp),a=Math.min(Math.max(Math.round(100*r),1),100);return{latitude:t,longitude:n,location:new window.google.maps.LatLng(t,n),weight:a}}}};const A=(0,l.Z)(U,[["render",b]]);var E=A;const z=[{path:"/",name:"home",component:E},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,9201))}],P=(0,p.p7)({history:(0,p.PO)("/fire-dog-app/"),routes:z});var I=P,N=n(9973),R=(0,N.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Z=n(5398),q=(n(1246),n(2660));(0,r.ri)(c).use(R).use(Z.Z).use(I).use(q.Z,C.Z).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],o=e[c][2];for(var l=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(l=!1,o<i&&(i=o));if(l){e.splice(c--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/about.e8e28710.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="fire-dog-app:";n.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var l,u;if(void 0!==o)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var p=s[c];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+o){l=p;break}}l||(u=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[a];var d=function(t,n){l.onerror=l.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),u&&document.head.appendChild(l)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/fire-dog-app/"}(),function(){var e={143:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var i=n.p+n.u(t),l=new Error,u=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,a[1](l)}};n.l(i,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],l=r[1],u=r[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(u)var c=u(n)}for(t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkfire_dog_app"]=self["webpackChunkfire_dog_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(1621)}));r=n.O(r)})();
//# sourceMappingURL=app.6ec4fef0.js.map